{% extends "dashboard/base.html" %}
{% load static %}
{% block extrascripts %}
    <script defer src="{% static "chart.js/dist/chart.min.js" %}"></script>
    <script src="{% static "js/dashboard_reports.js" %}"></script>
{% endblock %}
{% block body %}
    {% include "components/dashboard/title.html" with underline_text="Repo" underline_subtext="rtes" %}

    <section x-data="{
        currentChart: 'envios',
        pieWidth: '700px',
    }">
        <h2 class="text-lg">Tipo</h2>
        <section class="tabs tabs-boxed justify-center">
            <a
                @click="currentChart = 'envios'"
                x-bind:class="currentChart == 'envios' ? 'tab tab-active':'tab'">
                Envios
            </a>
            <a
                @click="currentChart = 'clientes'"
                x-bind:class="currentChart == 'clientes' ? 'tab tab-active':'tab' ">Clientes</a>
            <a
                @click="currentChart = 'destinos'"
                x-bind:class="currentChart == 'destinos' ? 'tab tab-active':'tab'">
                Destinos
            </a>
            <a
                @click="currentChart = 'facturas'"
                x-bind:class="currentChart == 'facturas' ? 'tab tab-active':'tab'" >
                Facturas</a>
        </section>

        <h2 class="text-lg">Filtros de fecha</h2>

        {% include "dashboard/reportes/reportes_form.html" %}

        <section class="flex justify-center">
            <div x-show="currentChart == 'envios'" x-bind:style="`width: ${pieWidth}`">
                <h2 class="text-lg text-center">Solicitudes Despachadas/Pendientes y tiempo de despacho/pendiente</h2>
                <canvas id="despachadasPendientes"></canvas>
            </div>
        </section>
        <div x-show="currentChart == 'clientes'" >
            <h2 class="text-lg text-center">Clientes ordenados con la cantidad de solicitudes realizadas</h2>
            <div style="background-color: white;" style="width: 500px;">
              <canvas id="clientesOrdenados"></canvas>
            </div>
        </div>
        <section class="flex justify-center">
        <div x-show="currentChart == 'facturas'" x-bind:style="`width: ${pieWidth}`">
            <h2 class="text-lg text-center">Facturas vigentes/vencidas por cobrar.</h2>
            <canvas id="facturasVigentes"></canvas>
        </div>
        </section>
    </section>

{% endblock %}
